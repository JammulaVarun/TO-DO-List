{% extends 'base.html' %}

{% load static %}

{% block title %} | SignUp | {% endblock %}

{% block content %}
<div class="container pt-3">
	<div class="row justify-content-center">
		<div class="col-9">
			<div class="card shadow shadow-md border rounded rounded-4 py-3 m-3">
				<div class="row">
					<div class="col ">
						<a class="mx-4 fs-5" href="/" style="color: black;"><i class="fa-solid fa-house"></i></a>
					</div>
				</div>
				<div class="card-body">
					<span class="text-center">
						<p class="card-title display-5 px-3 pb-3 text-decoration-underline "> SignUp Form </p>
					</span>

					<form action="{% url 'signup.html' %}" method="POST" enctype="application/x-www-form-urlencoded" class="">
						{% csrf_token %}
						<div class="row">
							<div class="col-md-12">
								<!-- Username -->
								<div class="form-outline mb-4">
									<input type="text" name="username" id="username" class="form-control" placeholder="User Name" minlength="3" pattern="[a-zA-z]+" required>
								</div>
							</div>
							<div class="col-md-12">
								<!-- Email -->
								<div class="form-outline mb-4">
									<input type="email" name="email" id="email" class="form-control" placeholder="Email ID" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>
								</div>
							</div>
							<div class="col-md-12">
								<!-- Password -->
								<div class="form-outline mb-4">
									<input type="password" name="pwd" id="pwd" class="form-control" placeholder="Password" minlength="8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters" required>
								</div>
							</div>
							<span class="col-md-12">
								<p>
									<ul class="text-justify">
										<li style="list-style: circle ;">Your password can't be too similar to your other personal information.</li>
										<li style="list-style: circle ;">Your password must contain at least 8 characters.</li>
										<li style="list-style: circle ;">Your password can't be a commonly used password.</li>
										<li style="list-style: circle ;">Your password can't be entirely numeric.</li>
									</ul>
								</p>
							</span>
							<div class="col-md-12">
								<!-- Password -->
								<div class="form-outline mb-4">
									<input type="password" name="confirm_pwd" id="confirm_pwd" class="form-control" placeholder="Confirm Password" minlength="8" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"  title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters" required>
								</div>
							</div>
							<div class="col-md-6 d-grid gap-2 mx-auto mb-3">
								<!-- Submit button -->
								<input type="submit" class="btn btn-primary btn-block mb-2" value="Register">
								<a href="#!" class="text-muted"><em>Forgot password <span class="fw-bold text-danger">???</span></em> </a>
							</div>
							<div class="row">
								<div class="col-md-6">
									<!-- signin redirect link -->
									<p class="text-muted"><em>Already a member <a href="{% url 'signin.html' %}" >SignIn</a> now <span class="fw-bold text-danger">!!!</span></em></p>
								</div>
							</div>
							
						</div>

						
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

{% if bug == 'no' %}
<script>
	alert('Registered Successfully');
	window.location = ("{% url 'signin.html' %}")
</script>
{% endif %}

{% if bug == 'yes' %}
<script>
	alert("Invalid Login credentials...Try again !!!");
</script>
{% endif %}

{% if bug == 'pwd_miss_match' %}
<script>
	alert("Password doesn't match to confirm password... Try again !!!");
</script>
{% endif %}

{% if bug == 'username_exists' %}
<script>
	alert("Username already taken!");
</script>
{% endif %}

{% if bug == 'email_exists' %}
<script>
	alert("Email already taken!");
</script>
{% endif %}

{% endblock %}